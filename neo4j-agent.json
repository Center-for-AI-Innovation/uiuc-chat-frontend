{
  "version": "1.0",
  "exportedAt": "2025-12-15T21:03:45.114Z",
  "state": {
    "blocks": {
      "44ca3588-e064-4e1c-8a4e-0dfc1a4f4d71": {
        "id": "44ca3588-e064-4e1c-8a4e-0dfc1a4f4d71",
        "type": "neo4j",
        "name": "Neo4j 1",
        "position": {
          "x": 1150,
          "y": 150
        },
        "enabled": true,
        "horizontalHandles": true,
        "advancedMode": false,
        "triggerMode": false,
        "height": 346,
        "subBlocks": {
          "host": {
            "id": "host",
            "type": "short-input",
            "value": null
          },
          "port": {
            "id": "port",
            "type": "short-input",
            "value": "<start.port>"
          },
          "database": {
            "id": "database",
            "type": "short-input",
            "value": "<start.dbName>"
          },
          "password": {
            "id": "password",
            "type": "short-input",
            "value": null
          },
          "username": {
            "id": "username",
            "type": "short-input",
            "value": "<start.dbUser>"
          },
          "operation": {
            "id": "operation",
            "type": "dropdown",
            "value": "query"
          },
          "encryption": {
            "id": "encryption",
            "type": "dropdown",
            "value": "disabled"
          },
          "parameters": {
            "id": "parameters",
            "type": "code",
            "value": null
          },
          "cypherQuery": {
            "id": "cypherQuery",
            "type": "code",
            "value": "<cyphergenerator.content>"
          }
        },
        "outputs": {
          "message": {
            "type": "string",
            "description": "Success or error message describing the operation outcome"
          },
          "records": {
            "type": "array",
            "description": "Array of records returned from the query"
          },
          "summary": {
            "type": "json",
            "description": "Execution summary with timing and database change counters"
          },
          "recordCount": {
            "type": "number",
            "description": "Number of records returned or affected"
          }
        },
        "data": {},
        "layout": {
          "measuredWidth": 250,
          "measuredHeight": 346
        }
      },
      "c75c1874-2019-4914-813c-2b487cc8844f": {
        "id": "c75c1874-2019-4914-813c-2b487cc8844f",
        "type": "agent",
        "name": "Response Interpreter",
        "position": {
          "x": 1650,
          "y": 150
        },
        "enabled": true,
        "horizontalHandles": true,
        "advancedMode": false,
        "triggerMode": false,
        "height": 230,
        "subBlocks": {
          "model": {
            "id": "model",
            "type": "short-input",
            "value": "qwen2.5:3b"
          },
          "tools": {
            "id": "tools",
            "type": "tool-input",
            "value": []
          },
          "apiKey": {
            "id": "apiKey",
            "type": "short-input",
            "value": null
          },
          "messages": {
            "id": "messages",
            "type": "short-input",
            "value": [
              {
                "role": "system",
                "content": "You are a helpful assistant that interprets Neo4j database query results for users.\n\nYour task:\n1. Analyze the query results provided\n2. Explain what was found in clear, natural language\n3. Highlight key insights or patterns in the data\n4. If results are empty, explain what that means and suggest alternative queries\n\nBe concise but informative. Format your response for readability."
              },
              {
                "role": "user",
                "content": "Original question: <start.query>\n\nCypher query executed: <cyphergenerator.content>\n\nQuery results:\n<neo4j1.records>\n\nNumber of records returned: <neo4j1.recordCount>\n\nPlease interpret these results."
              }
            ]
          },
          "verbosity": {
            "id": "verbosity",
            "type": "dropdown",
            "value": null
          },
          "memoryType": {
            "id": "memoryType",
            "type": "dropdown",
            "value": "none"
          },
          "temperature": {
            "id": "temperature",
            "type": "short-input",
            "value": 0.5
          },
          "azureEndpoint": {
            "id": "azureEndpoint",
            "type": "short-input",
            "value": null
          },
          "conversationId": {
            "id": "conversationId",
            "type": "short-input",
            "value": null
          },
          "responseFormat": {
            "id": "responseFormat",
            "type": "code",
            "value": null
          },
          "azureApiVersion": {
            "id": "azureApiVersion",
            "type": "short-input",
            "value": null
          },
          "reasoningEffort": {
            "id": "reasoningEffort",
            "type": "dropdown",
            "value": null
          },
          "slidingWindowSize": {
            "id": "slidingWindowSize",
            "type": "short-input",
            "value": null
          },
          "slidingWindowTokens": {
            "id": "slidingWindowTokens",
            "type": "short-input",
            "value": null
          }
        },
        "outputs": {
          "model": {
            "type": "string",
            "description": "Model used for generation"
          },
          "tokens": {
            "type": "any",
            "description": "Token usage statistics"
          },
          "content": {
            "type": "string",
            "description": "Generated response content"
          },
          "toolCalls": {
            "type": "any",
            "description": "Tool calls made"
          }
        },
        "data": {},
        "layout": {
          "measuredWidth": 250,
          "measuredHeight": 230
        }
      },
      "4dd81a22-538f-4a34-bdb4-d8656962d0c2": {
        "id": "4dd81a22-538f-4a34-bdb4-d8656962d0c2",
        "type": "neo4j",
        "name": "Schema Fetcher",
        "position": {
          "x": 150,
          "y": 150
        },
        "enabled": true,
        "horizontalHandles": true,
        "advancedMode": false,
        "triggerMode": false,
        "height": 346,
        "subBlocks": {
          "host": {
            "id": "host",
            "type": "short-input",
            "value": null
          },
          "port": {
            "id": "port",
            "type": "short-input",
            "value": "<start.port>"
          },
          "database": {
            "id": "database",
            "type": "short-input",
            "value": "<start.dbName>"
          },
          "password": {
            "id": "password",
            "type": "short-input",
            "value": null
          },
          "username": {
            "id": "username",
            "type": "short-input",
            "value": "<start.dbUser>"
          },
          "operation": {
            "id": "operation",
            "type": "short-input",
            "value": "query"
          },
          "encryption": {
            "id": "encryption",
            "type": "short-input",
            "value": "disabled"
          },
          "parameters": {
            "id": "parameters",
            "type": "code",
            "value": null
          },
          "cypherQuery": {
            "id": "cypherQuery",
            "type": "short-input",
            "value": "CALL {\n  MATCH (n) RETURN DISTINCT labels(n)[0] as item, 'NodeLabel' as type LIMIT 100\n  UNION ALL\n  MATCH ()-[r]->() RETURN DISTINCT type(r) as item, 'RelationshipType' as type LIMIT 100\n}\nRETURN type, collect(DISTINCT item) as items"
          }
        },
        "outputs": {
          "message": {
            "type": "string",
            "description": "Success or error message describing the operation outcome"
          },
          "records": {
            "type": "array",
            "description": "Array of records returned from the query"
          },
          "summary": {
            "type": "json",
            "description": "Execution summary with timing and database change counters"
          },
          "recordCount": {
            "type": "number",
            "description": "Number of records returned or affected"
          }
        },
        "data": {},
        "layout": {
          "measuredWidth": 250,
          "measuredHeight": 346
        }
      },
      "c0600793-4035-4d34-9f6b-0995158491d6": {
        "id": "c0600793-4035-4d34-9f6b-0995158491d6",
        "type": "agent",
        "name": "Cypher Generator",
        "position": {
          "x": 650,
          "y": 150
        },
        "enabled": true,
        "horizontalHandles": true,
        "advancedMode": false,
        "triggerMode": false,
        "height": 230,
        "subBlocks": {
          "model": {
            "id": "model",
            "type": "short-input",
            "value": "qwen2.5:3b"
          },
          "tools": {
            "id": "tools",
            "type": "tool-input",
            "value": []
          },
          "apiKey": {
            "id": "apiKey",
            "type": "short-input",
            "value": null
          },
          "messages": {
            "id": "messages",
            "type": "short-input",
            "value": [
              {
                "role": "system",
                "content": "You are a Neo4j Cypher query expert. Your ONLY task is to convert natural language questions into valid Cypher queries.\n\n**DATABASE SCHEMA:**\n<schemafetcher.records>\n\nUse the exact node labels and relationship types from the schema above.\n\n**CRITICAL RULES:**\n1. Output ONLY the Cypher query - no explanations, no markdown, no code blocks\n2. Never use SQL syntax - Neo4j uses Cypher\n3. Always include LIMIT clause (default LIMIT 25) to prevent overwhelming results\n4. Use the exact labels and relationship types from the schema\n\n**Cypher Quick Reference:**\n- Match nodes: MATCH (n:Label) RETURN n\n- Match relationships: MATCH (a)-[r:REL_TYPE]->(b) RETURN a, r, b\n- Filter: WHERE n.property = 'value'\n- Count: RETURN count(n)\n- Aggregate: RETURN n.prop, count(*) as cnt\n- Order: ORDER BY n.prop DESC\n- Limit: LIMIT 25\n\nRespond with ONLY the Cypher query."
              },
              {
                "role": "user",
                "content": "<start.query>"
              }
            ]
          },
          "verbosity": {
            "id": "verbosity",
            "type": "dropdown",
            "value": null
          },
          "memoryType": {
            "id": "memoryType",
            "type": "dropdown",
            "value": "none"
          },
          "temperature": {
            "id": "temperature",
            "type": "short-input",
            "value": 0.3
          },
          "azureEndpoint": {
            "id": "azureEndpoint",
            "type": "short-input",
            "value": null
          },
          "conversationId": {
            "id": "conversationId",
            "type": "short-input",
            "value": null
          },
          "responseFormat": {
            "id": "responseFormat",
            "type": "code",
            "value": null
          },
          "azureApiVersion": {
            "id": "azureApiVersion",
            "type": "short-input",
            "value": null
          },
          "reasoningEffort": {
            "id": "reasoningEffort",
            "type": "dropdown",
            "value": null
          },
          "slidingWindowSize": {
            "id": "slidingWindowSize",
            "type": "short-input",
            "value": null
          },
          "slidingWindowTokens": {
            "id": "slidingWindowTokens",
            "type": "short-input",
            "value": null
          }
        },
        "outputs": {
          "model": {
            "type": "string",
            "description": "Model used for generation"
          },
          "tokens": {
            "type": "any",
            "description": "Token usage statistics"
          },
          "content": {
            "type": "string",
            "description": "Generated response content"
          },
          "toolCalls": {
            "type": "any",
            "description": "Tool calls made"
          }
        },
        "data": {},
        "layout": {
          "measuredWidth": 250,
          "measuredHeight": 230
        }
      },
      "d2eba17b-8877-43cb-b267-0bd420cfc080": {
        "id": "d2eba17b-8877-43cb-b267-0bd420cfc080",
        "type": "start_trigger",
        "name": "Start",
        "position": {
          "x": -350,
          "y": 150
        },
        "enabled": true,
        "horizontalHandles": true,
        "advancedMode": false,
        "triggerMode": false,
        "height": 100,
        "subBlocks": {
          "inputFormat": {
            "id": "inputFormat",
            "type": "input-format",
            "value": [
              {
                "id": "b10b828a-9dfa-4ee4-8904-9c1d85606e2e",
                "name": "query",
                "type": "string",
                "value": "what nodes are drugs",
                "collapsed": false
              },
              {
                "id": "5823bbbd-8786-4d38-aff6-1df257edc3e8",
                "name": "host",
                "type": "string",
                "value": "141.142.216.207",
                "collapsed": false
              },
              {
                "id": "9e177075-040d-4c4d-92c3-21a08359223a",
                "name": "port",
                "type": "string",
                "value": "7687",
                "collapsed": false
              },
              {
                "id": "fc67f721-6db9-4a9e-a3a9-7c4a62181eae",
                "name": "dbName",
                "type": "string",
                "value": "neo4j",
                "collapsed": false
              },
              {
                "id": "0af9b4f9-8c09-4bf2-8cc6-6f36501f00e0",
                "name": "dbUser",
                "type": "string",
                "value": "neo4j",
                "collapsed": false
              },
              {
                "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
                "name": "dbPass",
                "type": "string",
                "value": "primekgpassword",
                "collapsed": false
              }
            ]
          }
        },
        "outputs": {
          "files": {
            "type": "files",
            "description": "User uploaded files"
          },
          "input": {
            "type": "string",
            "description": "Primary user input or message"
          },
          "conversationId": {
            "type": "string",
            "description": "Conversation thread identifier"
          }
        },
        "data": {},
        "layout": {
          "measuredWidth": 250,
          "measuredHeight": 100
        }
      }
    },
    "edges": [
      {
        "id": "87944fa4-9ca5-4a5d-b133-0781526d93c7",
        "source": "c0600793-4035-4d34-9f6b-0995158491d6",
        "target": "44ca3588-e064-4e1c-8a4e-0dfc1a4f4d71",
        "sourceHandle": "source",
        "targetHandle": "target",
        "type": "default",
        "data": {}
      },
      {
        "id": "c34917e3-404d-4f53-8739-6c0aa0eceb85",
        "source": "44ca3588-e064-4e1c-8a4e-0dfc1a4f4d71",
        "target": "c75c1874-2019-4914-813c-2b487cc8844f",
        "sourceHandle": "source",
        "targetHandle": "target",
        "type": "default",
        "data": {}
      },
      {
        "id": "e2314797-77e8-4da1-80fe-735f86005619",
        "source": "4dd81a22-538f-4a34-bdb4-d8656962d0c2",
        "target": "c0600793-4035-4d34-9f6b-0995158491d6",
        "sourceHandle": "source",
        "targetHandle": "target",
        "type": "default",
        "data": {}
      },
      {
        "id": "714ff0b4-ba46-41d9-840d-d9ed0f4ae39e",
        "source": "d2eba17b-8877-43cb-b267-0bd420cfc080",
        "target": "4dd81a22-538f-4a34-bdb4-d8656962d0c2",
        "sourceHandle": "source",
        "targetHandle": "target",
        "type": "default",
        "data": {}
      }
    ],
    "loops": {},
    "parallels": {},
    "metadata": {
      "name": "neo4j-agent",
      "description": "New workflow",
      "exportedAt": "2025-12-15T21:03:45.114Z"
    },
    "variables": []
  }
}